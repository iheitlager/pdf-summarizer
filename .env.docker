# Copyright 2025 Ilja Heitlager
# SPDX-License-Identifier: Apache-2.0

# PDF Summarizer - Docker Environment Configuration
# Copy this file to .env and fill in your values

# ===================================
# Required Configuration
# ===================================

# Anthropic API Key (REQUIRED)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Flask Secret Key (REQUIRED)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here

# ===================================
# Flask Configuration
# ===================================

# Flask host (0.0.0.0 required for Docker)
FLASK_HOST=0.0.0.0

# Flask port
FLASK_PORT=8000

# Flask environment (production recommended for Docker)
FLASK_ENV=production

# Flask debug mode (false recommended for Docker)
FLASK_DEBUG=false

# ===================================
# Database Configuration
# ===================================

# Database URL (SQLite in Docker volume)
DATABASE_URL=sqlite:////app/data/db/pdf_summaries.db

# ===================================
# Claude API Configuration
# ===================================

# Claude model version
CLAUDE_MODEL=claude-sonnet-4-5-20250929

# Maximum tokens for summary generation
MAX_TOKENS=1024

# Maximum text length to process
MAX_TEXT_LENGTH=100000

# ===================================
# File Upload Configuration
# ===================================

# Upload folder path (Docker volume mount)
UPLOAD_FOLDER=/app/uploads

# Maximum file size in MB
MAX_FILE_SIZE_MB=10

# ===================================
# Logging Configuration
# ===================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log directory (Docker volume mount)
LOG_DIR=/app/logs

# Maximum log file size in bytes (10MB)
LOG_MAX_BYTES=10485760

# Number of backup log files to keep
LOG_BACKUP_COUNT=5

# ===================================
# Cleanup Configuration
# ===================================

# Number of days to retain uploaded files
RETENTION_DAYS=30

# Hour of day to run cleanup (0-23, default: 3 AM)
CLEANUP_HOUR=3

# Minute of hour to run cleanup (0-59, default: 0)
CLEANUP_MINUTE=0

# ===================================
# Rate Limiting Configuration
# ===================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Upload rate limit (per hour)
RATE_LIMIT_UPLOAD=10 per hour

# Default request rate limit (per day)
RATE_LIMIT_DEFAULT=200 per day

# Redis URL for distributed rate limiting (optional)
# Use memory:// for in-memory storage (default)
# Use redis://redis:6379 for Redis backend
REDIS_URL=memory://

# ===================================
# Session Configuration
# ===================================

# Session lifetime in days
SESSION_LIFETIME_DAYS=30
